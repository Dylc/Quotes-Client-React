(this["webpackJsonpquotes-client"]=this["webpackJsonpquotes-client"]||[]).push([[0],{110:function(e){e.exports=JSON.parse('{"next":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439","edit":"\u041f\u0440\u0430\u0432\u0438\u0442\u044c","send":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","languages":"\u042f\u0437\u044b\u043a\u0438","addNew":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","homePageTitle":"\u0426\u0438\u0442\u0430\u0442\u044b"}')},111:function(e){e.exports=JSON.parse('{"next":"Next","edit":"Edit","send":"Send","languages":"Languages","addNew":"Add New","homePageTitle":"Quotes"}')},112:function(e){e.exports=JSON.parse('{"next":"\u05d4\u05d1\u05d0","edit":"\u05e2\u05e8\u05d9\u05db\u05d4","send":"\u05e9\u05dc\u05d7","languages":"\u05e9\u05e4\u05d5\u05ea","addNew":"\u05d4\u05d5\u05e1\u05e3 \u05d7\u05d3\u05e9","homePageTitle":"\u05e6\u05d9\u05d8\u05d5\u05d8\u05d9\u05dd"}')},136:function(e,t,n){},137:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(15),i=n.n(c),s=(n(136),n(137),n(22)),u=n(32),l=n(234),d=n(252),b=n(12),j=n(242),h=n(243),g=n(241),p=n(68),O=n(248),x=n(240),f=n(249),m=n(106),v=n.n(m),_=n(108),C=n.n(_),w=n(87),y=n.n(w),k=n(109),N=n.n(k),S=n(18),T=n(46),E=function(){return Object(T.b)()},A=T.c,q=n(58),M=n.n(q),R=n(237),Q=n(250),I=n(238),L=n(202),B=n(239),F=n(10),D=n.n(F),H=n(21),P=n(28);function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}!function(e){e.RU="ru",e.HE="he",e.EN="en"}(a||(a={}));var G={lang:localStorage.getItem("language")||a.RU,status:"idle"},U=(Object(P.b)("counter/fetchCount",function(){var e=Object(H.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(P.c)({name:"contextMenu",initialState:G,reducers:{setLang:function(e,t){e.lang=t.payload,localStorage.setItem("language",t.payload)}},extraReducers:function(e){}})),J=U.actions.setLang,W=function(e){return e.contextMenu.lang},K=U.reducer,V=n(2),X=Object(l.a)({container:{flex:"0 1 50%",display:"flex",justifyContent:"center"},button:{margin:4}}),Y=[{name:"English",abb:a.EN},{name:"Russian",abb:a.RU},{name:"Hebrew",abb:a.HE}];var Z=function(e){X();var t=Object(T.b)(),n=e.handleContextMenuClose,a=e.handleToggleOpenSelectLangDialog,o=Object(r.useState)(A(W)),c=Object(s.a)(o,2),i=c[0],u=c[1];return Object(V.jsxs)(Q.a,{open:!0,onClose:function(){a(),n()},"aria-labelledby":"select-langauge-dialog",children:[Object(V.jsx)(R.a,{id:"select-langauge-dialog",children:"Select Language"}),Object(V.jsx)(I.a,{className:M.a.list,children:Y.map((function(e){return Object(V.jsx)(L.a,{button:!0,className:M.a.listItem,classes:{selected:M.a.listItemSelected},selected:i===e.abb,onClick:function(){return function(e){t(J(e.abb)),u(e.abb)}(e)},children:Object(V.jsx)(B.a,{primary:e.name})},e.name)}))})]})},$=n(251),ee=function(){return Object(V.jsx)($.a,{id:"next",defaultMessage:"Next",description:"Next"})},te=function(){return Object(V.jsx)($.a,{id:"edit",defaultMessage:"Edit",description:"Edit"})},ne=function(){return Object(V.jsx)($.a,{id:"languages",defaultMessage:"Languages",description:"Languages"})},ae=function(){return Object(V.jsx)($.a,{id:"addNew",defaultMessage:"Add New",description:"Add New"})},re=function(){return Object(V.jsx)($.a,{id:"homePageTitle",defaultMessage:"Quotes",description:"Quotes"})};function oe(e){var t=e.setContextMenuAnchorEl,n=e.anchorEl,a=(E(),Object(S.f)()),o=Object(r.useState)(!1),c=Object(s.a)(o,2),i=c[0],u=c[1],l=function(){t(null)},d=function(){u(!i)};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(f.a,{id:"context-menu",anchorEl:n,className:M.a.contextMenu,keepMounted:!0,open:!0,onClose:l,children:[Object(V.jsx)(x.a,{onClick:d,children:ne()}),Object(V.jsx)(x.a,{onClick:function(){a.push("/add")},children:ae()})]}),i&&Object(V.jsx)(Z,{handleToggleOpenSelectLangDialog:d,handleContextMenuClose:l})]})}var ce=n(107),ie=n.n(ce),se=Object(l.a)((function(e){return Object(d.a)({grow:{flexGrow:1,position:"sticky",top:0,"& header":{backgroundColor:"rgb(45, 76, 131)"}},menuButton:{marginRight:e.spacing(2)},title:Object(u.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(u.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(b.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(b.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(u.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(u.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(u.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})})}));var ue=function(){var e=se(),t=Object(S.f)(),n=Object(r.useState)(null),a=Object(s.a)(n,2),c=a[0],i=a[1],u=o.a.useState(null),l=Object(s.a)(u,2),d=l[0],b=l[1],m=Object(r.useState)(null),_=Object(s.a)(m,2),w=_[0],k=_[1],T=Boolean(c),E=Boolean(d),A=Boolean(w),q=function(e){i(e.currentTarget)},M=function(){b(null)},R=function(){i(null),M()},Q="primary-search-account-menu",I=Object(V.jsxs)(f.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:Q,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:T,onClose:R,children:[Object(V.jsx)(x.a,{onClick:R,children:"Profile"}),Object(V.jsx)(x.a,{onClick:R,children:"My account"})]}),L="primary-search-account-menu-mobile",B=Object(V.jsx)(f.a,{anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},id:L,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:M,children:Object(V.jsxs)(x.a,{onClick:q,children:[Object(V.jsx)(g.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(V.jsx)(y.a,{})}),Object(V.jsx)("p",{children:"Profile"})]})});return Object(V.jsxs)("div",{className:e.grow,children:[Object(V.jsx)(j.a,{position:"static",children:Object(V.jsxs)(h.a,{children:[Object(V.jsx)(g.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(e){k(e.currentTarget)},children:Object(V.jsx)(v.a,{})}),Object(V.jsx)(g.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open hme page",onClick:function(){t.push("/")},children:Object(V.jsx)(ie.a,{})}),Object(V.jsx)(p.a,{className:e.title,variant:"h6",noWrap:!0,children:re()}),Object(V.jsxs)("div",{className:e.search,children:[Object(V.jsx)("div",{className:e.searchIcon,children:Object(V.jsx)(C.a,{})}),Object(V.jsx)(O.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]}),Object(V.jsx)("div",{className:e.grow}),Object(V.jsx)("div",{className:e.sectionDesktop,children:Object(V.jsx)(g.a,{edge:"end","aria-label":"account of current user","aria-controls":Q,"aria-haspopup":"true",onClick:q,color:"inherit",children:Object(V.jsx)(y.a,{})})}),Object(V.jsx)("div",{className:e.sectionMobile,children:Object(V.jsx)(g.a,{"aria-label":"show more","aria-controls":L,"aria-haspopup":"true",onClick:function(e){b(e.currentTarget)},color:"inherit",children:Object(V.jsx)(N.a,{})})})]})}),B,I,A&&Object(V.jsx)(oe,{setContextMenuAnchorEl:k,anchorEl:w})]})},le=n(246),de={ru:n(110),en:n(111),he:n(112)},be=n(51),je=n(116),he=n(245),ge=n(79),pe=n(145).create({baseURL:"http://0.0.0.0:9000/",timeout:1e3,headers:{"Access-Control-Allow-Origin":"http://0.0.0.0:9000/","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}});function Oe(e){var t="?";return Object.keys(e).forEach((function(n){t+="".concat(n,"=").concat(e[n])})),console.log(t),pe.get("/quotes/random"+t)}var xe=Object(P.b)("quote/fetchQuote",function(){var e=Object(H.a)(D.a.mark((function e(t){var n,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(t);case 2:return a=e.sent,e.abrupt("return",null===(n=a.data)||void 0===n?void 0:n.quote);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fe=Object(P.c)({name:"quote",initialState:{status:"idle"},reducers:{},extraReducers:function(e){e.addCase(xe.pending,(function(e){e.status="loading"})).addCase(xe.fulfilled,(function(e,t){e.status="idle",e.quote=t.payload}))}});Object(ge.a)(fe.actions);var me=function(e){return e.quote},ve=function(e){return e.quote.quote},_e=fe.reducer,Ce=n(36),we=n.n(Ce),ye=n(253),ke=n(244),Ne=n(205),Se=n(47),Te=n(113),Ee=function(e){return Object(V.jsx)(Te.CircleToBlockLoading,Object(Se.a)({size:"large",color:"rgb(45, 76, 131)"},e))};function Ae(){var e=A(me),t=E(),n=Object(S.f)(),a=A(W),o=function(){t(xe({lang:a}))},c=function(){console.log("handleEditQuote"),n.push("/edit")};Object(r.useEffect)((function(){t(xe({lang:a}))}),[]);return Object(V.jsx)("div",{className:we.a.container,children:"loading"===e.status?Object(V.jsx)(Ee,{}):function(){var t,n,r,i;return Object(V.jsxs)("div",{className:we.a.wrapper,children:[Object(V.jsxs)("p",{className:we.a.title,children:[" ",null===(t=e.quote)||void 0===t?void 0:t.title[a]]}),Object(V.jsxs)("p",{className:we.a.author,children:[" ",null===(n=e.quote)||void 0===n?void 0:n.author[a]," "]}),Object(V.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===(r=e.quote)||void 0===r?void 0:r.context[a])||""},className:"".concat(we.a.context," ").concat("he"==a?we.a.contextRtl:we.a.contextLtl)}),Object(V.jsx)("div",{className:we.a.tagsContainer,children:null===(i=e.quote)||void 0===i?void 0:i.tags[a].map((function(e,t){return Object(V.jsx)(ye.a,{label:e},e)}))}),Object(V.jsx)("div",{className:we.a.buttonContainer,children:Object(V.jsxs)(ke.a,{size:"large",className:we.a.buttonGroup,color:"primary","aria-label":"large quote actions",children:[Object(V.jsx)(Ne.a,{onClick:o,children:ee()}),Object(V.jsx)(Ne.a,{onClick:c,children:te()})]})})]})}()})}var qe=function(){return Object(V.jsx)(Ae,{})};var Me=Object(P.b)("quote/editQuote",function(){var e=Object(H.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t.id,r=t.quote,pe.put("/quotes/".concat(a),r);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}var a,r}),e)})));return function(t){return e.apply(this,arguments)}}()),Re=Object(P.b)("quote/addQuote",function(){var e=Object(H.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t.quote,pe.post("/quotes",a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()),Qe=Object(P.c)({name:"quoteForm",initialState:{editStatus:"idle",addStatus:"idle"},reducers:{},extraReducers:function(e){e.addCase(Me.pending,(function(e){e.editStatus="loading"})).addCase(Me.fulfilled,(function(e,t){e.editStatus="idle",e.editResult=t.payload})).addCase(Re.pending,(function(e){e.addStatus="loading"})).addCase(Re.fulfilled,(function(e,t){e.addStatus="idle",e.addResult=t.payload}))}});Object(ge.a)(Qe.actions);var Ie=function(e){return e.quoteForm},Le=Qe.reducer,Be=n(117),Fe=n(80),De=n.n(Fe),He=n(49);function Pe(){var e,t=A(Ie),n=E();switch(Object(S.f)().location.pathname){case"/edit":e="EDIT";break;case"/add":e="ADD"}var a=A(ve),o=Object(r.useState)("EDIT"===e?a:{}),c=Object(s.a)(o,2),i=c[0],u=c[1],l=function(e,t,n){console.log("path: ",e),console.log("data: ",i),console.log("e.target.value: ",t.target.value);var a=Object(He.cloneDeep)(i);if(n){var r=t.target.value.split(", ");Object(He.set)(a,e,r)}else Object(He.set)(a,e,t.target.value);console.log("newDate: ",a),u(a)},d=Object(Be.a)(),b=d.register,j=d.handleSubmit,h=(d.formState.errors,function(t){var r=function(e){return{title:{ru:e["Title (Russian)"],he:e["Title (Hebrew)"],en:e["Title (English)"]},context:{ru:e["Context (Russian)"],he:e["Context (Hebrew)"],en:e["Context (English)"]},author:{ru:e["Author (Russian)"],he:e["Author (Hebrew)"],en:e["Author (English)"]},books:e.Books.split(", "),language:e.Languages.split(", "),contextAuthors:e["Context Authors"].split(", "),sources:e.Sources.split(", "),tags:{ru:e["Tags (Russian)"].split(", "),he:e["Tags (Hebrew)"].split(", "),en:e["Tags (English)"].split(", ")}}}(t);console.log("obj: ",r),n("EDIT"===e?Me({id:a.id,quote:r}):Re({quote:r}))});return"loading"===t.editStatus?Object(V.jsx)(Ee,{}):Object(V.jsxs)("form",{className:De.a.form,onSubmit:j(h),children:[Object(V.jsx)(ze,{label:"Title (Russian)",register:b,data:i,path:"title.ru",handleOnChange:l}),Object(V.jsx)(ze,{label:"Title (Hebrew)",register:b,data:i,path:"title.he",handleOnChange:l}),Object(V.jsx)(ze,{label:"Title (English)",register:b,data:i,path:"title.en",handleOnChange:l}),Object(V.jsx)(Ge,{label:"Context (Russian)",register:b,data:i,path:"context.ru",handleOnChange:l}),Object(V.jsx)(Ge,{label:"Context (Hebrew)",register:b,data:i,multiline:!0,path:"context.he",handleOnChange:l}),Object(V.jsx)(Ge,{label:"Context (English)",register:b,data:i,path:"context.en",handleOnChange:l}),Object(V.jsx)(ze,{label:"Author (Russian)",register:b,data:i,path:"author.ru",handleOnChange:l}),Object(V.jsx)(ze,{label:"Author (Hebrew)",register:b,data:i,path:"author.he",handleOnChange:l}),Object(V.jsx)(ze,{label:"Author (English)",register:b,data:i,path:"author.en",handleOnChange:l}),Object(V.jsx)(ze,{label:"Books",register:b,data:i,path:"books",isArray:!0,handleOnChange:l}),Object(V.jsx)(ze,{label:"Context Authors",register:b,data:i,path:"contextAuthors",isArray:!0,handleOnChange:l}),Object(V.jsx)(ze,{label:"Languages",register:b,data:i,path:"language",isArray:!0,handleOnChange:l}),Object(V.jsx)(ze,{label:"Sources",register:b,data:i,path:"sources",isArray:!0,handleOnChange:l}),Object(V.jsx)(ze,{label:"Tags (Russian)",register:b,data:i,path:"tags.ru",isArray:!0,handleOnChange:l}),Object(V.jsx)(ze,{label:"Tags (Hebrew)",register:b,data:i,path:"tags.he",isArray:!0,handleOnChange:l}),Object(V.jsx)(ze,{label:"Tags (English)",register:b,data:i,path:"tags.en",isArray:!0,handleOnChange:l}),Object(V.jsx)("input",{type:"submit",value:e})]})}var ze=function(e){var t=e.label,n=e.register,a=e.data,r=e.path,o=e.isArray,c=void 0!==o&&o,i=e.handleOnChange;return Object(V.jsxs)("div",{className:De.a.inputContainer,children:[Object(V.jsx)("label",{children:t}),Object(V.jsx)("input",Object(Se.a)(Object(Se.a)({},n(t)),{},{value:c?Object(He.get)(a,r,[]).join(", "):Object(He.get)(a,r,""),onChange:function(e){return i(r,e,c)}}))]})},Ge=function(e){var t=e.label,n=e.register,a=e.data,r=e.multiline,o=void 0!==r&&r,c=e.path,i=void 0===c?"data.title.ru":c,s=e.handleOnChange;return Object(V.jsxs)("div",{className:De.a.textareaContainer,children:[Object(V.jsx)("label",{children:t}),Object(V.jsx)("textarea",Object(Se.a)(Object(Se.a)({},n(t)),{},{value:Object(He.get)(a,i,""),rows:6,multiline:o,onChange:function(e){return s(i,e,!1)}}))]})};function Ue(){return Object(V.jsx)(Pe,{})}function Je(){return Object(V.jsx)(Pe,{})}var We=Object(je.a)({typography:{fontFamily:["Nunito","Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")}});var Ke=function(){var e=A(W);return Object(V.jsx)(he.a,{theme:We,children:Object(V.jsx)(le.a,{messages:de[e],locale:e,children:Object(V.jsx)(be.a,{children:Object(V.jsx)(S.c,{children:Object(V.jsx)("div",{className:"App",children:Object(V.jsxs)("div",{className:"App-container",children:[Object(V.jsx)(ue,{}),Object(V.jsx)(S.a,{path:"/add",children:Object(V.jsx)(Je,{})}),Object(V.jsx)(S.a,{path:"/edit",children:Object(V.jsx)(Ue,{})}),Object(V.jsx)(S.a,{exact:!0,path:"/",children:Object(V.jsx)(qe,{})})]})})})})})})};function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var Xe=Object(P.b)("counter/fetchCount",function(){var e=Object(H.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ye=Object(P.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(Xe.pending,(function(e){e.status="loading"})).addCase(Xe.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),Ze=Ye.actions,$e=(Ze.increment,Ze.decrement,Ze.incrementByAmount,Ye.reducer),et=Object(P.a)({reducer:{counter:$e,quote:_e,contextMenu:K,quoteForm:Le}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(V.jsx)(o.a.StrictMode,{children:Object(V.jsx)(T.a,{store:et,children:Object(V.jsx)(Ke,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,n){e.exports={row:"Quote_row__1dCkF",value:"Quote_value__2gMFq",button:"Quote_button__15GIs",textbox:"Quote_textbox__M02Bv",asyncButton:"Quote_asyncButton__-4Udb Quote_button__15GIs",container:"Quote_container__1hCnI",wrapper:"Quote_wrapper__14sIT",title:"Quote_title__3WotT",author:"Quote_author__1e-YR",context:"Quote_context__qZvd5",tagsContainer:"Quote_tagsContainer__1jGy4",contextRtl:"Quote_contextRtl__1OSyQ",contextLtl:"Quote_contextLtl__1VL5g",buttonGroup:"Quote_buttonGroup__DU38z"}},58:function(e,t,n){e.exports={contextMenu:"ContextMenu_contextMenu__1fWFt",list:"ContextMenu_list__2faNU",listItem:"ContextMenu_listItem__HqktD",listItemSelected:"ContextMenu_listItemSelected__OSsoq"}},80:function(e,t,n){e.exports={row:"Form_row__2xK98",value:"Form_value__2rG34",button:"Form_button__2Q8Sc",textbox:"Form_textbox__3znvv",asyncButton:"Form_asyncButton__Olh1T Form_button__2Q8Sc",container:"Form_container__32aEz",form:"Form_form__2DDb_",inputContainer:"Form_inputContainer__1kIXp",textareaContainer:"Form_textareaContainer__1siuD"}}},[[199,1,2]]]);
//# sourceMappingURL=main.461af747.chunk.js.map